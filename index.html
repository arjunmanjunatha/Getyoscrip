<!DOCTYPE html>
<html>
  <head>
    <title>Get yo Scrip</title>
    <style>
      body {
        background-color: white;
        color: black;
      }
    </style>
  </head>
  <body>
    <h1>Get yo Scrip</h1>
    <form onsubmit="handleSubmit()">
      <label for="aid">Enter AID:</label>
      <input type="text" id="aid" name="aid" pattern="[a-zA-Z0-9]+" required>
      <br>
      <input type="submit" value="Submit">
    </form>

    <div id="output"></div>

    <script>
      function handleSubmit() {
        // Get the value of the "aid" input field
        var aidInput = document.getElementById("aid");
        var aidValue = aidInput.value;

        // Insert the "aid" value into the s.Stay22.params object
        s.Stay22.params = {
          aid: aidValue
        };

        // Generate the code block with the updated "aid" value
        var codeBlock = document.createElement("code");
        var codeText = document.createTextNode(`
          <script>
            (function (s, t, a, y, twenty, two) {
              s.Stay22 = s.Stay22 || {};

              // Just fill out your configs here
              s.Stay22.params = {
                aid: "${aidValue}",
              };

              // Leave this part as-is;
              twenty = t.createElement(a);
              two = t.getElementsByTagName(a)[0];
              twenty.async = 1;
              twenty.src = y;
              two.parentNode.insertBefore(twenty, two);
            })(window, document, "script", "https://scripts.stay22.com/letmeallez.js");
          </script>
        `);
        codeBlock.appendChild(codeText);

        // Update the output div with the code block
        document.getElementById("output").innerHTML = "";
        document.getElementById("output").appendChild(codeBlock);

        // Prevent the form from submitting normally
        return false;
      }
    </script>
  </body>
</html>
