<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>GET YOUR SCRIPT</title>
	<style>
		body {
			background-color: black;
			color: green;
			font-family: sans-serif;
		}

		input[type="text"], button, label {
			color: green;
			background-color: white;
			border: none;
			border-radius: 5px;
			padding: 5px;
			margin: 5px;
		}

		button {
			cursor: pointer;
		}

		#output {
			margin-top: 10px;
			white-space: pre-wrap;
		}
	</style>
</head>
<body>
	<h1>GET YOUR SCRIPT</h1>
	<label for="aid">AID:</label>
	<input type="text" id="aid">
	<br>
	<label for="pop">Is this POP ONLY?</label>
	<br>
	<input type="radio" id="popYes" name="pop" value="yes">
	<label for="popYes">Yes</label>
	<input type="radio" id="popNo" name="pop" value="no" checked>
	<label for="popNo">No</label>
	<br>
	<button onclick="generateScript()">Submit</button>
	<div id="output"></div>

	<script>
		function generateScript() {
  var aidInput = document.getElementById("aidInput").value.toLowerCase();
  var popOnlyInput = document.querySelector('input[name="popOnly"]:checked');
  var excludes = [];

  if (popOnlyInput && popOnlyInput.value === "yes") {
    excludes = ["vrbo", "booking", "expedia", "tripadvisor", "hotelscombined", "hotelscom"];
  }

  var script = "(function (s, t, a, y, twenty, two) {\n";
  script += "  s.Stay22 = s.Stay22 || {};\n";
  script += "  s.Stay22.params = {\n";
  script += '    aid: "' + aidInput + '",\n';
  script += '    excludes: ' + JSON.stringify(excludes) + '\n';
  script += "  };\n";
  script += "  twenty = t.createElement(a);\n";
  script += "  two = t.getElementsByTagName(a)[0];\n";
  script += "  twenty.async = 1;\n";
  script += '  twenty.src = "' + stay22ScriptURL + '";\n';
  script += "  two.parentNode.insertBefore(twenty, two);\n";
  script += "})(window, document, 'script', 'https://scripts.stay22.com/letmeallez.js');\n";

  document.getElementById("output").innerHTML = "<script>\n" + script + "</script>";
}

	</script>
</body>
</html>
