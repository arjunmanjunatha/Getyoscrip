<!DOCTYPE html>
<html>
<head>
	<title>GET YOUR SCRIPT</title>
	<style>
		body {
			background-color: black;
			color: green;
		}

		input[type="text"] {
			background-color: white;
			color: green;
		}
	</style>
</head>
<body>
	<h1>GET YOUR SCRIPT</h1>
	<form>
		<label for="aid">Enter your AID:</label><br>
		<input type="text" id="aid" name="aid"><br>
		<label for="popOnly">Is this POP ONLY?</label><br>
		<input type="radio" id="yes" name="popOnly" value="yes">
		<label for="yes">Yes</label><br>
		<input type="radio" id="no" name="popOnly" value="no">
		<label for="no">No</label><br><br>
		<label for="question2">Is this POP ONLY?</label><br>
		<input type="radio" id="yes2" name="popOnly2" value="yes">
		<label for="yes2">Yes</label><br>
		<input type="radio" id="no2" name="popOnly2" value="no">
		<label for="no2">No</label><br><br>
		<button type="button" onclick="generateScript()">Submit</button>
	</form>
	<div id="output"></div>
	<script>
		function generateScript() {
			let aidInput = document.getElementById("aid").value;
			let popOnlyInput = document.querySelector('input[name="popOnly"]:checked').value;
			let popOnlyInput2 = document.querySelector('input[name="popOnly2"]:checked').value;
			let excludes = [];

			if (popOnlyInput === "yes" || popOnlyInput2 === "yes") {
				excludes = ["vrbo","booking","expedia","tripadvisor","hotelscombined","hotelscom"];
			}

			let script = `(function (s, t, a, y, twenty, two) {
				s.Stay22 = s.Stay22 || {};
				s.Stay22.params = {
					aid: "${aidInput}",
					excludes: ${JSON.stringify(excludes)}
				};
				twenty = t.createElement(a);
				two = t.getElementsByTagName(a)[0];
				twenty.async = 1;
				twenty.src = y;
				two.parentNode.insertBefore(twenty, two);
			})(window, document, "script", "https://scripts.stay22.com/letmeallez.js");`;

			document.getElementById("output").innerHTML = `<script>${script}</script>`;
		}
	</script>
</body>
</html>
